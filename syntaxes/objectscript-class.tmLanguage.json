{
  "name": "objectscript_class",
  "patterns": [{ "include": "#main" }],
  "scopeName": "source.objectscript_class",
  "uuid": "",
  "repository": {
    "main": {
      "patterns": [
        { "include": "#documentation" },
        { "include": "#comments" },
        {
          "match": "^(\\Include\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*(?:\\.[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          }
        },
        {
          "match": "^(\\bClass\\b)(\\s)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*(?:\\.[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.name.class.objectscript_class" }
          }
        },
        {
          "match": "^(\\bExtends\\b)(\\s)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*(?:\\.[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.name.class.objectscript_class" }
          }
        },
        {
          "begin": "(\\{)",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "patterns": [{ "include": "#class" }],
          "end": "(\\})",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        }
      ]
    },
    "as": {
      "patterns": [
        {
          "match": "(\\bAs\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*(?:\\.[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.name.class.objectscript_class" }
          }
        },
        {
          "begin": "(\\()",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "patterns": [{ "include": "text.objectscript" }],
          "end": "(\\))",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        }
      ]
    },
    "class": {
      "patterns": [
        { "include": "#documentation" },
        { "include": "#comments" },
        {
          "begin": "(^\\bIndex\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.other.attribute-name.objectscript_class" }
          },
          "patterns": [{ "include": "#index" }],
          "end": "(^(?=.{0,1})(?:|))",
          "endCaptures": { "1": { "name": "whitespace.objectscript_class" } }
        },
        {
          "match": "^(\\bForeignKey\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.other.attribute-name.objectscript_class" }
          }
        },
        {
          "match": "^(\\Parameter\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "meta.parameter.type.variable.objectscript_class" }
          }
        },
        {
          "match": "^(\\Projection\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          }
        },
        {
          "begin": "^(\\bProperty\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.other.attribute-name.objectscript_class" }
          },
          "patterns": [{ "include": "#property" }],
          "end": "(;)",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        },
        {
          "match": "^(\\bRelationship\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.other.attribute-name.objectscript_class" }
          }
        },
        {
          "begin": "^(\\b(?:Class|Client)?Method\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.name.function.objectscript_class" }
          },
          "patterns": [{ "include": "#method" }],
          "end": "^(\\})$",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        },
        {
          "begin": "^(\\Query\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          },
          "patterns": [{ "include": "#query" }],
          "end": "^(\\})$",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        },
        {
          "match": "^(\\Trigger\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          }
        },
        {
          "begin": "^(\\XData\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          },
          "patterns": [{ "include": "#xdata" }],
          "end": "^(\\})$",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        },
        {
          "begin": "^(\\Storage\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)",
          "beginCaptures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "identifier.objectscript_class" }
          },
          "patterns": [{ "include": "#storage" }],
          "end": "^(\\})$",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        }
      ]
    },
    "code": {
      "patterns": [
        {
          "begin": "^(\\{)",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "patterns": [{ "include": "source.objectscript" }],
          "contentName": "meta.embedded.block.objectscript",
          "end": "^(?=\\})",
          "endCaptures": []
        }
      ]
    },
    "comments": {
      "patterns": [
        {
          "begin": "(/\\*)",
          "beginCaptures": { "1": { "name": "comment.objectscript_class" } },
          "contentName": "comment.objectscript_class",
          "end": "(.*?\\*/)",
          "endCaptures": { "1": { "name": "comment.objectscript_class" } }
        },
        { "match": "(^\\s*// .*)", "name": "comment.objectscript_class" }
      ]
    },
    "documentation": {
      "patterns": [
        {
          "begin": "(^/// .*)",
          "beginCaptures": { "1": { "name": "comment.block.documentation.objectscript_class" } },
          "contentName": "comment.block.documentation.objectscript_class",
          "end": "(^(?=.{0,1})(?:|))",
          "endCaptures": { "1": { "name": "whitespace.objectscript_class" } }
        }
      ]
    },
    "formal_spec": {
      "patterns": [
        {
          "begin": "(\\()",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "contentName": "text.objectscript_class",
          "end": "(\\))",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        }
      ]
    },
    "index": {
      "patterns": [
        {
          "match": "(\\bOn\\b)(\\s+)(%?[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*(?:\\.[a-zA-Z][0-9a-zA-Z]*(?:_[0-9a-zA-Z]+)*)*)",
          "captures": {
            "1": { "name": "keyword.objectscript_class" },
            "2": { "name": "whitespace.objectscript_class" },
            "3": { "name": "entity.other.attribute-name.objectscript_class" }
          }
        }
      ]
    },
    "method": {
      "patterns": [
        { "include": "#formal_spec" },
        { "include": "#as" },
        { "include": "#params" },
        { "include": "#code" }
      ]
    },
    "params": {
      "patterns": [
        {
          "begin": "(\\[)",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "contentName": "text.objectscript_class",
          "end": "(\\])",
          "endCaptures": { "1": { "name": "punctuation.objectscript_class" } }
        }
      ]
    },
    "property": { "patterns": [{ "include": "#as" }, { "include": "#params" }] },
    "query": {
      "patterns": [{ "include": "#formal_spec" }, { "include": "#as" }, { "include": "#params" }, { "include": "#sql" }]
    },
    "sql": {
      "patterns": [
        {
          "begin": "^(\\{)",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "patterns": [{ "include": "source.sql" }],
          "contentName": "meta.embedded.block.sql",
          "end": "^(?=\\})",
          "endCaptures": []
        }
      ]
    },
    "storage": { "patterns": [{ "include": "#params" }, { "include": "#xml" }] },
    "xdata": { "patterns": [{ "include": "#params" }, { "include": "#xml" }] },
    "xml": {
      "patterns": [
        {
          "begin": "^(\\{)",
          "beginCaptures": { "1": { "name": "punctuation.objectscript_class" } },
          "patterns": [{ "include": "text.xml" }],
          "contentName": "text.xml",
          "end": "^(?=\\})",
          "endCaptures": []
        }
      ]
    }
  }
}

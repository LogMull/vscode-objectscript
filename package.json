{
  "name": "vscode-cos",
  "displayName": "InterSystems ObjectScript",
  "description": "InterSystems ObjectScript language support for Visual Studio Code",
  "version": "0.6.1",
  "icon": "images/logo.png",
  "categories": [
    "Programming Languages",
    "Other"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/doublefint/vscode-objectscript.git"
  },
  "publisher": "doublefint",
  "contributors": [
    {
      "name": "Nikita Savchenko",
      "email": "me@nikita.tk"
    },
    {
      "name": "Dmitry Maslennikov",
      "email": "mrdaimor@gmail.com"
    }
  ],
  "engines": {
    "vscode": "^1.29.0"
  },
  "activationEvents": [
    "onCommand:vscode-objectscript.export",
    "onCommand:vscode-objectscript.compile",
    "onCommand:vscode-objectscript.viewOthers",
    "onCommand:vscode-objectscript.explorer.refresh",
    "onCommand:vscode-objectscript.explorer.openClass",
    "onCommand:vscode-objectscript.explorer.openRoutine",
    "onCommand:vscode-objectscript.explorer.hideSystem",
    "onLanguage:objectscript-class",
    "onLanguage:objectscript-routine",
    "onLanguage:objectscript-include",
    "onView:ObjectScriptExplorer",
    "onFileSystem:objectscript",
    "onDebugInitialConfigurations"
  ],
  "main": "./out/extension",
  "contributes": {
    "menus": {
      "view/title": [
        {
          "command": "vscode-objectscript.explorer.refresh",
          "when": "view == ObjectScriptExplorer",
          "group": "navigation"
        },
        {
          "command": "vscode-objectscript.explorer.showSystem",
          "when": "view == ObjectScriptExplorer && !vscode-objectscript.explorer.showSystem"
        },
        {
          "command": "vscode-objectscript.explorer.hideSystem",
          "when": "view == ObjectScriptExplorer && vscode-objectscript.explorer.showSystem"
        }
      ],
      "touchBar": [
        {
          "command": "vscode-objectscript.compile",
          "group": "ObjectScript",
          "when": "editorLangId =~ /^objectscript-/"
        }
      ]
    },
    "languages": [
      {
        "id": "objectscript-class",
        "aliases": [
          "ObjectScript Class"
        ],
        "extensions": [
          ".cls"
        ],
        "configuration": "./language-configuration.json"
      },
      {
        "id": "objectscript-routine",
        "aliases": [
          "ObjectScript Routine"
        ],
        "extensions": [
          ".mac",
          ".int"
        ],
        "configuration": "./language-configuration.json"
      },
      {
        "id": "objectscript-include",
        "aliases": [
          "ObjectScript Include"
        ],
        "extensions": [
          ".inc"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "objectscript-class",
        "scopeName": "source.objectscript-class",
        "path": "syntaxes/objectscript-class.tmLanguage.json"
      },
      {
        "language": "objectscript-routine",
        "scopeName": "source.objectscript",
        "path": "syntaxes/objectscript.tmLanguage.json"
      },
      {
        "language": "objectscript-include",
        "scopeName": "source.objectscript-include",
        "path": "syntaxes/objectscript-include.tmLanguage.json"
      }
    ],
    "commands": [
      {
        "category": "ObjectScript",
        "command": "vscode-objectscript.export",
        "title": "Export sources"
      },
      {
        "category": "ObjectScript",
        "command": "vscode-objectscript.compile",
        "title": "Import and compile current file"
      },
      {
        "category": "ObjectScript",
        "command": "vscode-objectscript.compileWithFlags",
        "title": "Import and compile current file with specified flags"
      },
      {
        "command": "vscode-objectscript.explorer.showSystem",
        "title": "Show system objects"
      },
      {
        "command": "vscode-objectscript.explorer.hideSystem",
        "title": "Hide system objects"
      },
      {
        "command": "vscode-objectscript.explorer.refresh",
        "title": "Refresh Explorer",
        "category": "ObjectScript",
        "icon": {
          "light": "images/light/refresh.svg",
          "dark": "images/dark/refresh.svg"
        }
      },
      {
        "command": "vscode-objectscript.explorer.openClass",
        "title": "Open class"
      },
      {
        "command": "vscode-objectscript.explorer.openRoutine",
        "title": "Open routine"
      },
      {
        "category": "ObjectScript",
        "command": "vscode-objectscript.viewOthers",
        "title": "View other"
      }
    ],
    "keybindings": [
      {
        "command": "vscode-objectscript.compile",
        "key": "Ctrl+F7",
        "mac": "Cmd+F7",
        "when": "editorLangId =~ /^objectscript-/"
      },
      {
        "command": "vscode-objectscript.viewOthers",
        "key": "Ctrl+Shift+V",
        "mac": "Cmd+Shift+V",
        "when": "editorLangId =~ /^objectscript-/"
      }
    ],
    "configuration": {
      "title": "InterSystems ObjectScript Configuration",
      "type": "object",
      "properties": {
        "objectscript.conn": {
          "type": "object",
          "description": "Server Access"
        },
        "objectscript.conn.label": {
          "description": "Server Name",
          "type": "string",
          "default": "LOCAL"
        },
        "objectscript.conn.host": {
          "description": "Hostname",
          "format": "hostname",
          "type": "string",
          "default": "127.0.0.1"
        },
        "objectscript.conn.port": {
          "description": "Port number",
          "type": "number",
          "default": 57772
        },
        "objectscript.conn.username": {
          "description": "Username",
          "type": "string",
          "default": "_SYSTEM"
        },
        "objectscript.conn.password": {
          "description": "User's Password",
          "type": "string",
          "default": "SYS"
        },
        "objectscript.conn.path": {
          "description": "API Atelier path",
          "type": "string",
          "default": "/api/atelier/"
        },
        "objectscript.conn.version": {
          "description": "API Atelier Version",
          "type": "string",
          "default": "v1"
        },
        "objectscript.conn.ns": {
          "description": "Server Namespace",
          "type": "string",
          "default": "SAMPLES"
        },
        "objectscript.conn.https": {
          "description": "Use SSL to access to API",
          "type": "boolean",
          "default": false
        },
        "objectscript.export": {
          "type": "object",
          "description": "Export only the necessary stuff "
        },
        "objectscript.export.folder": {
          "description": "folder for source code",
          "type": "string",
          "default": "src"
        },
        "objectscript.export.atelier": {
          "description": "export source code as Atelier it does ( packages to subfolders )",
          "type": "boolean",
          "default": true
        },
        "objectscript.export.generated": {
          "description": "Specifies that generated source code files should be exported",
          "type": "boolean",
          "default": false
        },
        "objectscript.export.filter": {
          "description": "SQL filter that can be used to match the names",
          "type": "string",
          "default": ""
        },
        "objectscript.export.category": {
          "description": "Specifies a category: CLS = classes; RTN = routines; CSP = csp files; OTH = other. Default is *",
          "type": "string",
          "default": "*"
        },
        "objectscript.autoCompile": {
          "description": "Autocompile on save file",
          "type": "boolean",
          "default": false
        },
        "objectscript.showExplorer": {
          "type": "boolean",
          "default": true,
          "description": "Show or hide the Explorer."
        },
        "objectscript.compileFlags": {
          "type": "string",
          "default": "cuk",
          "description": "Compilation flags."
        }
      }
    },
    "views": {
      "ObjectScriptView": [
        {
          "id": "ObjectScriptExplorer",
          "name": "Explorer",
          "when": "config.objectscript.showExplorer == true"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "icon": "images/InterSystems.svg",
          "id": "ObjectScriptView",
          "title": "ObjectScript"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "tsc -p ./",
    "build": "tsc -p ./",
    "compile": "tsc -watch -p ./",
    "lint": "tslint --project tsconfig.json -t verbose",
    "lint-fix": "tslint --project tsconfig.json -t verbose --fix",
    "postinstall": "node ./node_modules/vscode/bin/install",
    "test": "npm run build && node ./node_modules/vscode/bin/test",
    "all": "npm i && npm run lint && npm test"
  },
  "devDependencies": {
    "@types/glob": "^7.1.1",
    "@types/node": "^10.12.10",
    "eslint": "^5.9.0",
    "tape": "^4.9.1",
    "tslint": "^5.11.0",
    "tslint-microsoft-contrib": "^5.2.1",
    "typescript": "^3.1.6",
    "typings": "^2.1.1",
    "vscode": "^1.1.21"
  },
  "dependencies": {
    "cos-api4node": "^2.1.5"
  }
}
